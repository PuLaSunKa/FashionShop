@using System.Globalization;
@model CheckoutViewModel
@{
    ViewData["Title"] = "Checkout";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@inject Microsoft.Extensions.Configuration.IConfiguration Configuration;
@{
    var culture = CultureInfo.CurrentCulture.Name;
}

<!--breadcrumbs area start-->
<div class="breadcrumbs_area other_bread">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="breadcrumb_content">
                    <ul>
                        <li><a href="@Url.Action("Index", "Home")">Trang Chủ</a></li>
                        <li>/</li>
                        <li>Giỏ Hàng</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!--breadcrumbs area end-->
<!-- shopping cart area start -->
<div class="row">
    @if (ViewBag.SuccessMsg != null)
    {
        <div id="msgAlert" class="alert alert-success" role="alert">
            @ViewBag.SuccessMsg
        </div>
    }
</div>


@if (TempData["SuccessMsg"] != null)
{
    <span class="alert alert-success">@TempData["SuccessMsg"]</span>
}
else
{
    <div class="shopping_cart_area">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="table_desc">
                        <div class="cart_page table-responsive">
                            <table>
                                <thead>
                                    <tr>
                                        <th class="product_thumb">Hình ảnh</th>
                                        <th class="product_name">Sản phẩm</th>
                                        <th class="product-price">Giá</th>
                                        <th class="product_quantity">Số lượng</th>
                                        <th class="product_total">Tổng</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.CartItems)
                                    {
                                        <tr>
                                            <td> <img width="60" src="@(Configuration["BaseAddress"] + item.Image)" alt="" /></td>
                                            <td>@item.Description</td>
                                            <td>
                                                @item.Price
                                            </td>
                                            <td>@item.Quantity</td>
                                            <td>@(item.Quantity * item.Price)</td>
                                        </tr>
                                    }
                                    <tr>
                                        <td colspan="4" style="text-align:right;">Tổng cộng</td>
                                        <td>@Model.CartItems.Sum(x => x.Quantity * x.Price).ToString("N0")</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <form class="form-horizontal" action="/@culture/Cart/Checkout" method="post">
                <div class="control-group">
                    <label class="control-label" for="inputCountry">Name </label>
                    <div class="controls">
                        <input type="text" id="inputCountry" asp-for="CheckoutModel.Name" placeholder="Name">
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="inputCountry">Address </label>
                    <div class="controls">
                        <input type="text" id="inputCountry" asp-for="CheckoutModel.Address" placeholder="Address">
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label" for="inputCountry">Email </label>
                    <div class="controls">
                        <input type="text" id="inputCountry" asp-for="CheckoutModel.Email" placeholder="Email">
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label" for="inputCountry">PhoneNumber </label>
                    <div class="controls">
                        <input type="text" id="inputCountry" asp-for="CheckoutModel.PhoneNumber" placeholder="PhoneNumber">
                    </div>
                </div>

                <div class="control-group">
                    <div class="controls">
                        <button type="submit" class="btn">Purchase </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
}